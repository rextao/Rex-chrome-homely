(function(t){function e(e){for(var a,o,i=e[0],l=e[1],s=e[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},c=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"03a3":function(t,e,n){"use strict";var a=n("9ad2"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("5c96"),c=n.n(r),o=(n("0fae"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("快速生成service与const中的代码")]),n("create-service-form")],1)}),i=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-wrapper"},[n("div",t._l(t.textData,(function(e,a){return n("el-input",{key:a,staticClass:"textarea_width",attrs:{type:"textarea",rows:15,cols:10,placeholder:e.placeholder},model:{value:t.textData[a].data,callback:function(e){t.$set(t.textData[a],"data",e)},expression:"textData[index].data"}})})),1),n("div",[n("div",[n("p",[t._v("const的大写key前缀")]),n("p",[n("el-input",{model:{value:t.pre,callback:function(e){t.pre=e},expression:"pre"}})],1)]),n("div",[n("p",[t._v("action前缀")]),n("p",[n("el-input",{model:{value:t.actionPre,callback:function(e){t.actionPre=e},expression:"actionPre"}})],1)]),n("el-button",{attrs:{type:"warning"},on:{click:t.handleCreateClick}},[t._v("生成")])],1)]),n("div",[t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"tag_wrapper"},[n("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.actionPre))]),t._v("："+t._s(e.pre||"空")+" "),n("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.handleDelete(a)}}}),n("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(n){return t.handleAdd(e)}}})],1)})),n("el-button",{attrs:{type:"warning"},on:{click:t.handleSaveList}},[t._v("保存")])],2)])},s=[],u=(n("99af"),n("7db0"),n("4160"),n("baa5"),n("a434"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("1276"),n("498a"),n("159b"),n("3835")),p=[{data:"",placeholder:"原始接口"},{data:"",placeholder:"const下的文件"},{data:"",placeholder:"service文件"}],d={NORMAL_API:1,MOCK_API:2},f={TYPE_CHOICE:[{label:"普通接口",value:d.NORMAL_API},{label:"mock平台",value:d.MOCK_API}]},h={CHINESE:"[一-龥]"},v={name:"create-service-form",data:function(){return{textData:p,actionPre:"/v4/operation/",pre:"",list:[]}},created:function(){var t=this;this.OPTIONS=f,window.chrome.storage.local.get("service-form-list",(function(e){t.list=e["service-form-list"]||[]})),console.log("创建onMessage监听");var e=this;window.chrome.runtime.onMessage.addListener((function(t){e.getReceiveData(t)}))},methods:{handleCreateClick:function(){this.setActionPreDefault(),this.generatorData(),this.addItemToList()},getReceiveData:function(t){var e=t.data;console.log("接收到的数据：",t);var n=this.textData[0].data,a="";try{var r=JSON.parse(e);console.log("解析数据： ",r),r.forEach((function(t){var e=t.method,n=t.api,r=t.text;a+="".concat(e,"@@").concat(n," ").concat(r,"\n")}))}catch(c){console.log(c)}this.textData[0].data="".concat(n,"\n").concat(a)},addItemToList:function(){var t=this.pre,e=this.actionPre,n=this.list.find((function(n){return n.pre===t&&n.actionPre===e}));n||this.list.push({actionPre:e,pre:t})},handleDelete:function(t){this.list.splice(t,1)},handleAdd:function(t){var e=t.actionPre,n=t.pre;Object.assign(this,{actionPre:e,pre:n})},handleSaveList:function(){window.chrome.storage.local.set({"service-form-list":this.list})},generatorData:function(){var t=this,e=Object(u["a"])(this.textData,3),n=e[0],a=e[1],r=e[2],c=this.getArray(n.data),o=this.actionPre.length,i="",l="";c.forEach((function(e){if(""!==e){var n=e.split("@@"),a=e,r="post";n.length>1&&(r=n[0],a=n[1]);var c=t.parseOriginItem(a),s=c.transformUrl,u=c.originUrl,p=c.chinese,d=s.lastIndexOf("/"),f=s.substr(d+1),h=s.substr(o).replace(/\//g,"_"),v=t.toLine(h).toUpperCase(),g=t.pre?"".concat(t.pre.toUpperCase(),"_"):"",m="".concat(g).concat(v);i+="".concat(m,": '").concat(u,"', \n"),l+=t.getFunc(f,m,p,r)}})),r.data=l,a.data=i},setActionPreDefault:function(){var t=this.actionPre;"/"!==this.actionPre[t.length-1]&&(this.actionPre="".concat(t,"/"))},parseOriginItem:function(t){var e=new RegExp("".concat(h.CHINESE,".*"),"g"),n=t.match(e),a=t.replace(e,"").replace(/[\s，,]*/g,""),r=a.replace(/-/g,"_");return{originUrl:a,transformUrl:r,chinese:n&&n[0]||""}},getFunc:function(t,e,n,a){var r=e.trim().replace(/'/g,""),c=n?"// ".concat(n,"\n"):"",o=a.toLowerCase();return"get"===o?"    ".concat(c).concat(t,"(payload) {\n                    return $http.").concat(o,"(URL_API.").concat(r,", {\n                        params: payload\n                    });\n                },\n"):"    ".concat(c).concat(t,"(payload) {\n                    return $http.").concat(o,"(URL_API.").concat(r,", payload);\n                },\n")},getArray:function(t){return t.split("\n")},toLine:function(t){return t.replace(/([A-Z])/g,"_$1").toLowerCase()}}},g=v,m=(n("03a3"),n("2877")),b=Object(m["a"])(g,l,s,!1,null,"75607a0a",null),_=b.exports,y={name:"App",components:{CreateServiceForm:_},data:function(){return{textarea:""}}},P=y,w=(n("034f"),Object(m["a"])(P,o,i,!1,null,null,null)),x=w.exports;a["default"].use(c.a),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(x)}}).$mount("#app")},"85ec":function(t,e,n){},"9ad2":function(t,e,n){}});